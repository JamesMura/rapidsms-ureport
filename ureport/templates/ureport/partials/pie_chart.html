<script type="text/javascript">
    var opts = {
        chart: {
            renderTo: 'chart',
            margin: [10, 10, 50, 50]
        },
        title: {
            text: 'Poll Results For'
        },
        plotArea: {
            shadow: true,
            borderWidth: 30,
            backgroundColor: null
        },
        tooltip: {
            formatter: function() {
                return '<b>' + this.point.name + '</b>: ' + this.y + ' %';
            }
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    formatter: function() {
                        //if (this.y > 5) return this.point.name;
                    },
                    color: 'white',
                    style: {
                        font: '13px Trebuchet MS, Verdana, sans-serif'
                    }
                }
            }
        },
        legend: {
            layout: 'horizontal',
            style: {
                left: 'auto',
                bottom: 'auto',
                right: '10px',
                top: '500px'
            }
        },
        credits:false,
        subtitle: {
            text: 'test'
        },
        series: [
            {
                type: 'pie',
                name: 'Poll Results',
                data: []
            }
        ]
    }
    function plot_pie(data) {
        var chart;

        opts.series[0].data = data['data'];
        opts.subtitle.text = data['poll_names'];
        opts.series[0].data[0] = {'name':data['data'][0][0],'y':data['data'][0][1],sliced: true,selected: true};
        chart = new Highcharts.Chart(opts);


    }


</script>
<div style="width:100%;height:600px;" id="chart">
</div>