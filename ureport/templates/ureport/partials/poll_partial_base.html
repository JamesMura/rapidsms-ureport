{% extends "generic/partials/partial_base.html" %}
{% block list_wrapper %}
    <script type="text/javascript">
        function deleteResponse(link, response_id) {
            if (confirm("Are you sure you want to remove this response from the poll?")) {
                $.post('/polls/responses/' + response_id + "/delete/", function(data) {
                    $(link).parents("tr").remove();
                }); 
            }
        }
          
        function cancelResponse(link, response_id) {
            $(link).parents("tr").load("/polls/responses/" + response_id + "/view/");
        }
        
        function saveResponse(link, response_id) {
            form = $(link).parents(".form");
            form_data = form.serializeArray();
            $(link).parents("tr").load('/polls/responses/' + response_id + '/edit/', form_data);
        }
        
        function editResponse(link, response_id) {
            url = "/polls/responses/" +  response_id + "/edit/";
            $(link).parents("tr").load(url);
        }
    </script>
    {{ block.super }}
{% endblock %}
{% block partial_base_content %}
    {% for response in object_list %}
        <tr class="row_{% cycle 'reg' 'alt' %}">
            {% include partial_row %}
        </tr>
    {% endfor %}
{% endblock %}